DROP SEQUENCE user_id_seq;
DROP SEQUENCE result_id_seq;
DROP TABLE results;
DROP TABLE bmr_users;

CREATE TABLE bmr_users (
    user_id      number(3),
    user_gender  varchar2(10)  NOT NULL,
    user_age     number(3)     NOT NULL,
    user_height  number(3)     NOT NULL,
    user_weight  number(3)     NOT NULL,
    CONSTRAINT pk_user_id PRIMARY KEY (user_id)
);

CREATE TABLE results (
    result_id      number(5),
    user_id        number(3)     NOT NULL,
    meal_date      varchar2(10)  NOT NULL,
    meal_calories  number(10)    NOT NULL,
    bmr             number(5)     NOT NULL,
    idee            number(5)     NOT NULL,
    result         varchar2(50)  NOT NULL,
    CONSTRAINT pk_result_id PRIMARY KEY (result_id),
    CONSTRAINT fk_user_id FOREIGN KEY(user_id) REFERENCES bmr_users(user_id)
);

CREATE SEQUENCE user_id_seq
	START WITH 3
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 999
	NOCYCLE;

CREATE SEQUENCE result_id_seq
	START WITH 5
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 99999
	NOCYCLE;

INSERT INTO bmr_users
VALUES(1, 'Male', 20, 180, 60);

INSERT INTO bmr_users
VALUES(2, 'Female', 20, 160, 50);

INSERT INTO results
VALUES(1, 1, sysdate, 1800, 1800, 1900, '100 Calories not enough.');

INSERT INTO results
VALUES(2, 1, sysdate, 2000, 1800, 2100, '100 Calories over.');

INSERT INTO results
VALUES(3, 1, sysdate, 2500, 1800, 2000, '500 Calories over.');

INSERT INTO results
VALUES(4, 2, sysdate, 2000, 1800, 2100, '100 Calories over.');

COMMIT;
